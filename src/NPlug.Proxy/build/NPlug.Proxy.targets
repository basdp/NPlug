<Project>
  <PropertyGroup>
    <NPlugProxyVersion>1.0.0</NPlugProxyVersion>
    <NPlugRuntimeIdentifier Condition="'$(NPlugRuntimeIdentifier)' == ''">$(RuntimeIdentifier)</NPlugRuntimeIdentifier>
    <NPlugRuntimeIdentifier Condition="'$(NPlugRuntimeIdentifier)' == ''">$(NETCoreSdkRuntimeIdentifier)</NPlugRuntimeIdentifier>

    <NPlugNativeLibraryPrefix Condition="'$(NPlugNativeLibraryPrefix)' == '' and !$(NPlugRuntimeIdentifier.StartsWith('win'))">lib</NPlugNativeLibraryPrefix>

    <NPlugNativeLibraryExtension Condition="'$(NPlugNativeLibraryExtension)' == '' and $(NPlugRuntimeIdentifier.StartsWith('win'))">.dll</NPlugNativeLibraryExtension>
    <NPlugNativeLibraryExtension Condition="'$(NPlugNativeLibraryExtension)' == '' and $(NPlugRuntimeIdentifier.StartsWith('osx'))">.dylib</NPlugNativeLibraryExtension>
    <NPlugNativeLibraryExtension Condition="'$(NPlugNativeLibraryExtension)' == ''">.so</NPlugNativeLibraryExtension>

    <NPlugProxyLibraryLink Condition="'$(NPlugProxyLibraryLink)' == ''">$(NPlugNativeLibraryPrefix)nplug_proxy$(NPlugNativeLibraryExtension)</NPlugProxyLibraryLink>
    <NPlugProxyLibraryFile Condition="'$(NPlugProxyLibraryFile)' == ''">$(MSBuildThisFileDirectory)$(NPlugRuntimeIdentifier)\native\$(NPlugProxyLibraryLink)</NPlugProxyLibraryFile>
  </PropertyGroup>


  <Target Name="TryNPlug" BeforeTargets="Build">
    <Message Importance="high" Text="NPlugRuntimeIdentifier: $(NPlugRuntimeIdentifier)"/>
    <Message Importance="high" Text="NPlugNativeLibraryExtension: $(NPlugNativeLibraryExtension)"/>
    <Message Importance="high" Text="NPlugProxyLibraryFile: $(NPlugProxyLibraryFile)"/>
    <Message Importance="high" Text="NPlugProxyLibraryLink: $(NPlugProxyLibraryLink)"/>
  </Target>

</Project>